<!-- /app/templates/base.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Page Title -->
  <title>{% block title %}{{ page_title|default('AI-Driven Drone Solutions') }} | Adaptive Auto Hub{% endblock %}</title>

 <!-- Mobile Fixes -->
 <link rel="stylesheet" href="{{ url_for('static', filename='css/mobile-fixes.css') }}">
 
  
  <!-- Meta Tags -->
  <meta name="description" content="{{ meta_description|default('Revolutionary AI-powered drone analytics and defense systems. 75-85% cost savings for infrastructure inspection.') }}">
  <meta name="keywords" content="{{ meta_keywords|default('drone analytics, AI inspection, counter-drone, infrastructure monitoring') }}">
  <meta name="author" content="Adaptive Auto Hub">
  <meta name="robots" content="index, follow">
  
  <!-- Open Graph Tags -->
  <meta property="og:title" content="{{ page_title|default('Adaptive Auto Hub') }}">
  <meta property="og:description" content="{{ meta_description|default('AI-driven drone solutions for infrastructure and defense') }}">
  <meta property="og:type" content="{{ og_type|default('website') }}">
  <meta property="og:url" content="{{ request.url }}">
  <meta property="og:image" content="{{ og_image|default(url_for('static', filename='images/og-default.jpg', _external=True)) }}">
  <meta property="og:site_name" content="Adaptive Auto Hub">
  <meta property="og:locale" content="en_US">
  
  <!-- Twitter Card Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ page_title|default('Adaptive Auto Hub') }}">
  <meta name="twitter:description" content="{{ meta_description|default('AI-driven drone solutions') }}">
  <meta name="twitter:image" content="{{ og_image|default(url_for('static', filename='images/og-default.jpg', _external=True)) }}">
  
  <!-- Canonical URL -->
  {% if canonical_url %}
  <link rel="canonical" href="{{ canonical_url }}">
  {% endif %}
  
  <!-- Favicon and Icons -->
  <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
  <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='apple-touch-icon.png') }}">
  <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='favicon-32x32.png') }}">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='favicon-16x16.png') }}">
  <link rel="manifest" href="{{ url_for('static', filename='site.webmanifest') }}">
  
  <!-- Theme Color -->
  <meta name="theme-color" content="#1e40af">
  
  <!-- DNS Prefetch for Performance -->
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  
  <!-- Main Stylesheet -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  
  {% block extra_head %}{% endblock %}
</head>
<body>
  <!-- Skip link for accessibility -->
  <a href="#main" class="skip-link">Skip to main content</a>

  <!-- Header / Navigation -->
  <header class="header" role="banner">
    <div class="container">
      <nav class="nav" role="navigation" aria-label="Main navigation">
        <!-- Logo -->
        <a href="{{ url_for('main.index') }}" class="nav__logo" aria-label="Adaptive Auto Hub Home">
          <span>Adaptive Auto Hub</span>
        </a>
        
        <!-- Mobile Menu Toggle -->
        <button 
          class="nav__toggle" 
          id="nav-toggle"
          aria-label="Toggle navigation menu" 
          aria-expanded="false"
          aria-controls="nav-menu"
        >
          <span class="nav__toggle-line"></span>
          <span class="nav__toggle-line"></span>
          <span class="nav__toggle-line"></span>
        </button>
        
        <!-- Navigation Menu -->
        <ul class="nav__menu" id="nav-menu" role="menubar">
          <li class="nav__item" role="none">
            <a 
              href="{{ url_for('main.index') }}" 
              class="nav__link {{ 'nav__link--active' if request.endpoint == 'main.index' else '' }}"
              role="menuitem"
              {% if request.endpoint == 'main.index' %}aria-current="page"{% endif %}
            >
              Home
            </a>
          </li>
          <li class="nav__item" role="none">
            <a 
              href="{{ url_for('products.index') }}" 
              class="nav__link {{ 'nav__link--active' if request.endpoint and 'products' in request.endpoint else '' }}"
              role="menuitem"
              {% if request.endpoint and 'products' in request.endpoint %}aria-current="page"{% endif %}
            >
              Products
            </a>
          </li>
          <li class="nav__item" role="none">
            <a 
              href="{{ url_for('industries.index') }}" 
              class="nav__link {{ 'nav__link--active' if request.endpoint and 'industries' in request.endpoint else '' }}"
              role="menuitem"
              {% if request.endpoint and 'industries' in request.endpoint %}aria-current="page"{% endif %}
            >
              Industries
            </a>
          </li>
          <li class="nav__item" role="none">
            <a 
              href="{{ url_for('partnerships.index') }}" 
              class="nav__link {{ 'nav__link--active' if request.endpoint and 'partnerships' in request.endpoint else '' }}"
              role="menuitem"
              {% if request.endpoint and 'partnerships' in request.endpoint %}aria-current="page"{% endif %}
            >
              Partnerships
            </a>
          </li>
          <li class="nav__item" role="none">
            <a 
              href="{{ url_for('about.index') }}" 
              class="nav__link {{ 'nav__link--active' if request.endpoint == 'about.index' else '' }}"
              role="menuitem"
              {% if request.endpoint == 'about.index' %}aria-current="page"{% endif %}
            >
              About
            </a>
          </li>
          <li class="nav__item" role="none">
            <a 
              href="{{ url_for('about.contact') }}" 
              class="nav__link nav__link--cta {{ 'nav__link--active' if request.endpoint == 'about.contact' else '' }}"
              role="menuitem"
              {% if request.endpoint == 'about.contact' %}aria-current="page"{% endif %}
            >
              Contact
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main id="main" role="main">
    {% block content %}{% endblock %}
  </main>

  <!-- Footer -->
  <footer class="footer" role="contentinfo">
    <div class="container">
      <div class="footer__content">
        <!-- Company Info -->
        <div class="footer__section">
          <h3>Adaptive Auto Hub</h3>
          <p>
            AI-driven drone solutions for infrastructure inspection and defense.<br>
            Creating 7 US jobs through E-2 investment and revolutionary technology.
          </p>
          <p>
            <strong>Investment:</strong> $120,000 E-2 Visa<br>
            <strong>Market Impact:</strong> 75-85% cost savings<br>
            <strong>Growth:</strong> 23% CAGR market expansion
          </p>
        </div>
        
        <!-- Quick Links -->
        <div class="footer__section">
          <h3>Solutions</h3>
          <ul class="footer__links">
            <li><a href="{{ url_for('products.aura') }}">Aura Analytics</a></li>
            <li><a href="{{ url_for('products.aegis') }}">Aegis Defense</a></li>
            <li><a href="{{ url_for('industries.index') }}">Industries</a></li>
            <li><a href="{{ url_for('partnerships.index') }}">Partnerships</a></li>
          </ul>
        </div>
        
        <!-- Industries -->
        <div class="footer__section">
          <h3>Industries</h3>
          <ul class="footer__links">
            <li><a href="{{ url_for('industries.industry_detail', industry='oil-gas') }}">Oil & Gas</a></li>
            <li><a href="{{ url_for('industries.industry_detail', industry='infrastructure') }}">Infrastructure</a></li>
            <li><a href="{{ url_for('industries.industry_detail', industry='defense-security') }}">Defense & Security</a></li>
            <li><a href="{{ url_for('industries.industry_detail', industry='construction') }}">Construction</a></li>
          </ul>
        </div>
        
        <!-- Company -->
        <div class="footer__section">
          <h3>Company</h3>
          <ul class="footer__links">
            <li><a href="{{ url_for('about.index') }}">About Us</a></li>
            <li><a href="{{ url_for('about.contact') }}">Contact</a></li>
            <li><a href="{{ url_for('main.sitemap') }}">Sitemap</a></li>
            <li><a href="/privacy">Privacy Policy</a></li>
            <li><a href="/terms">Terms of Service</a></li>
          </ul>
        </div>
      </div>
      
      <!-- Footer Bottom -->
      <div class="footer__bottom">
        <p>&copy; {{ current_year or 2025 }} Adaptive Auto Hub. All rights reserved.</p>
        <p>E-2 Investment Program | Creating American Jobs Through Innovation</p>
      </div>
    </div>
  </footer>

  <!-- JavaScript -->
  <script src="{{ url_for('static', filename='js/main.js') }}"></script>
  
 <!-- Mobile Menu -->
 <script src="{{ url_for('static', filename='js/mobile-menu-fix.js') }}" defer></script>

 <!-- Fix for header shadow and styling issues -->

<script>
// Simple mobile menu that works
document.addEventListener('DOMContentLoaded', function() {
    var toggle = document.querySelector('.nav__toggle');
    if (!toggle) return;
    
    // Create overlay
    var overlay = document.createElement('div');
    overlay.className = 'menu-overlay';
    overlay.style.cssText = 'position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);display:none;z-index:998;';
    document.body.appendChild(overlay);
    
    // Create mobile menu
    var mobileMenu = document.createElement('div');
    mobileMenu.className = 'mobile-nav';
    mobileMenu.style.cssText = 'position:fixed;top:0;right:-100%;width:280px;height:100vh;background:white;z-index:999;transition:right 0.3s;overflow-y:auto;';
    
    // Copy navigation items
    var nav = document.querySelector('.nav__menu');
    if (nav) {
        mobileMenu.innerHTML = '<div style="padding:20px;">' + nav.innerHTML + '</div>';
    }
    document.body.appendChild(mobileMenu);
    
    // Style the menu items
    mobileMenu.querySelectorAll('a').forEach(function(link) {
        link.style.cssText = 'display:block;padding:12px;margin-bottom:8px;color:#374151;text-decoration:none;background:#f3f4f6;border-radius:8px;';
    });
    
    // Toggle function
    toggle.addEventListener('click', function(e) {
        e.preventDefault();
        var isOpen = mobileMenu.style.right === '0px';
        
        if (isOpen) {
            mobileMenu.style.right = '-100%';
            overlay.style.display = 'none';
            document.body.style.overflow = '';
        } else {
            mobileMenu.style.right = '0';
            overlay.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }
    });
    
    // Close on overlay click
    overlay.addEventListener('click', function() {
        mobileMenu.style.right = '-100%';
        overlay.style.display = 'none';
        document.body.style.overflow = '';
    });
});
</script>


  {% block scripts %}{% endblock %}
</body>
</html>
